:root{
  --green:#4CAF50; 
  --green-600:#3ea646;
  --bg:#f6f7f8; 
  --card:#fff; 
  --border:#e6e6e6;
  --text:#1f2328; 
  --muted:#6b7280;
}
*{box-sizing:border-box}
html,body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}

/* NAV */
.navbar{
  display:flex; gap:8px; justify-content:center; flex-wrap:wrap;
  background:var(--green); padding:10px;
  position:sticky; top:0; z-index:10; box-shadow:0 2px 6px rgba(0,0,0,.06);
}
.navbar button{
  background:#fff; color:var(--green); border:none; padding:9px 16px; border-radius:8px; font-weight:600; cursor:pointer;
  transition:all .2s ease;
}
.navbar button:hover{background:#f5f5f5; transform:translateY(-1px)}
.navbar .primary{background:#1e9e5c; color:#fff}
.navbar .primary:hover{background:#188a50}

/* SECTIONS */
section{display:none; padding:18px; max-width:1200px; margin:0 auto}
section.active{display:block}
h2{margin:8px 0 14px}

/* LAYOUT AUX */
.toolbar{display:flex; gap:10px; align-items:center; flex-wrap:wrap; margin:8px 0 10px}
.grow{flex:1}
.filters{display:grid; grid-template-columns:repeat(4, minmax(160px,1fr)); gap:10px; align-items:end; margin:8px 0 12px}
.actions{display:flex; gap:8px; align-items:center}
.card{
  background:var(--card); border-radius:14px; padding:18px;
  box-shadow:0 4px 14px rgba(0,0,0,0.08); 
  transition:transform .2s ease, box-shadow .2s ease;
}
.card:hover{transform:translateY(-2px); box-shadow:0 6px 18px rgba(0,0,0,0.12)}
.kpis{display:grid; grid-template-columns:repeat(2, minmax(260px,1fr)); gap:12px; margin-bottom:6px}
.kpi-title{font-weight:700; color:var(--green)}
.kpi-value{font-size:1.8rem; margin:6px 0}
.kpi-sub{color:var(--muted)}
#comparativoDia.up{color:#1e9e5c}
#comparativoDia.down{color:#d9534f}
#comparativoDia.equal{color:#ff9800}

/* FORM */
input, select, textarea{
  padding:10px; border:1px solid #dcdcdc; border-radius:10px; background:#fff;
  transition:border-color .2s ease, box-shadow .2s ease;
}
input:focus, select:focus, textarea:focus{
  border-color:#4CAF50; box-shadow:0 0 0 3px rgba(76,175,80,0.15); outline:none;
}
button{
  padding:10px 14px; border:none; border-radius:10px;
  background:var(--green); color:#fff; font-weight:600; cursor:pointer;
  transition:all .2s ease;
}
button:hover{background:var(--green-600); transform:translateY(-1px); box-shadow:0 4px 10px rgba(0,0,0,.1)}
button.ghost{background:#fff; color:#333; border:1px solid var(--border)}
button.ghost:hover{background:#f9f9f9}
button.danger{background:#d9534f}
button.danger:hover{background:#c64540}

/* INPUT COM ÍCONE */
.input-icon{position:relative; display:flex; align-items:center}
.input-icon input{width:100%; padding-left:34px}
.input-icon .icon{
  position:absolute; left:10px; pointer-events:none; font-size:14px; color:#888;
}

/* GRIDS */
.grid2{display:grid; grid-template-columns:1fr 1fr; gap:10px}
.grid3{display:grid; grid-template-columns:1fr 1fr 1fr; gap:10px}

/* TABLES */
.table-wrap{position:relative; background:var(--card); border-radius:14px; overflow:hidden; box-shadow:0 2px 6px rgba(0,0,0,0.05)}
.table{width:100%; border-collapse:separate; border-spacing:0}
.table thead th{position:sticky; top:0; background:var(--green); color:#fff; text-align:left; padding:12px 10px}
.table td{border-top:1px solid var(--border); padding:10px}
.table tbody tr{transition:background .2s ease}
.table tbody tr:hover{background:#f9fdf9}
.state{position:absolute; inset:48px 0 0 0; display:flex; align-items:center; justify-content:center; color:#7a7a7a; background:#fff}
.hidden{display:none!important}

.pager{display:flex; gap:12px; justify-content:flex-end; align-items:center; margin:10px 2px}

/* MODAL */
.modal{display:none; position:fixed; inset:0; background:rgba(0,0,0,.38); z-index:1000; padding:20px}
.modal-content{margin:auto; width:min(720px,95vw); background:#fff; border-radius:14px; padding:16px; position:relative; box-shadow:0 8px 24px rgba(0,0,0,.2)}
.close{
  position:absolute; right:10px; top:10px; background:#fff; border:1px solid var(--border);
  width:34px; height:34px; border-radius:8px; font-size:18px; cursor:pointer; transition:all .2s ease;
}
.close:hover{background:#f5f5f5}
/* Fechar em vermelho só no modal de venda */
#formVendaContainer .danger-close{
  background:#d9534f; color:#fff; border:none;
}
#formVendaContainer .danger-close:hover{background:#c9302c}

/* PRODUTOS NA VENDA */
#produtosContainer .produto-linha{display:grid; grid-template-columns: 2fr 1fr 1fr auto; gap:8px; margin-top:8px; align-items:center}
#produtosContainer .remover{background:#d9534f}
#produtosContainer .remover:hover{background:#c9302c}

/* Selo de cancelada */
.badge-cancelada{
  display:inline-block; padding:6px 10px; border-radius:999px;
  background:#ffe2e0; color:#b42318; border:1px solid #f2c5c2; font-weight:600;
}

/* TOAST */
#toaster{position:fixed; right:16px; bottom:16px; display:flex; flex-direction:column; gap:8px}
.toast{background:#333; color:#fff; padding:10px 14px; border-radius:10px; box-shadow:0 6px 16px rgba(0,0,0,.2); opacity:.97}
.toast.error{background:#d9534f}
.toast.success{background:#1e9e5c}

/* CHART CONTAINER */
.chart-container{
  background:var(--card); border-radius:14px; padding:18px; margin-top:16px;
  box-shadow:0 2px 6px rgba(0,0,0,0.05); position:relative; height:400px;
}
.chart-container canvas{max-height:360px}

/* RELATÓRIOS ESPECÍFICOS */
#tabelaRelatorios tbody tr:nth-child(1) td{background:#fff3cd; font-weight:600}
#tabelaRelatorios tbody tr:nth-child(2) td{background:#f8f9fa}
#tabelaRelatorios tbody tr:nth-child(3) td{background:#f8f9fa}

/* RESPONSIVO */
@media (max-width: 860px){
  .grid2{grid-template-columns:1fr}
  .grid3{grid-template-columns:1fr}
  .filters{grid-template-columns:repeat(2, 1fr)}
  .kpis{grid-template-columns:1fr}
  .chart-container{height:300px}
}
